# ==========================================================
# Production environment example for sansakorea.com backend
# Copy this file to .env.prod and fill REQUIRED values.
# ==========================================================

# Core Django (REQUIRED)
DJANGO_SECRET_KEY=replace-with-very-strong-random-secret
DJANGO_DEBUG=false
DJANGO_ALLOWED_HOSTS=sansakorea.com,www.sansakorea.com,127.0.0.1,localhost
PUBLIC_BACKEND_ORIGIN=https://sansakorea.com

# PostgreSQL (Django connection)
DB_ENGINE=postgresql
DB_HOST=db
DB_PORT=5432
DB_NAME=sausalito
DB_USER=sausalito
DB_PASSWORD=replace-with-strong-db-password

# PostgreSQL (container bootstrap - should match above)
POSTGRES_DB=sausalito
POSTGRES_USER=sausalito
POSTGRES_PASSWORD=replace-with-strong-db-password

# Redis (required in config.settings.prod)
USE_REDIS_CACHE=true
REDIS_CACHE_URL=redis://redis:6379/1
REDIS_SESSION_URL=redis://redis:6379/2

# Frontend/Admin origins (include local for pre-deploy verification)
CORS_ALLOWED_ORIGINS=https://sausalito.co.kr,https://www.sausalito.co.kr,http://127.0.0.1:5173,http://localhost:5173,http://127.0.0.1:5174,http://localhost:5174,http://127.0.0.1:4173,http://localhost:4173,http://127.0.0.1:4174,http://localhost:4174
CSRF_TRUSTED_ORIGINS=https://sausalito.co.kr,https://www.sausalito.co.kr,https://sansakorea.com,https://www.sansakorea.com,http://127.0.0.1:5173,http://localhost:5173,http://127.0.0.1:5174,http://localhost:5174,http://127.0.0.1:4173,http://localhost:4173,http://127.0.0.1:4174,http://localhost:4174

# Object storage media (GCS S3 interoperability) (REQUIRED)
USE_S3_MEDIA=true
AWS_ACCESS_KEY_ID=replace-with-gcs-hmac-access-key
AWS_SECRET_ACCESS_KEY=replace-with-gcs-hmac-secret
AWS_STORAGE_BUCKET_NAME=replace-with-gcs-bucket-name
AWS_S3_ENDPOINT_URL=https://storage.googleapis.com
AWS_S3_ADDRESSING_STYLE=path
AWS_S3_REGION_NAME=auto
AWS_QUERYSTRING_AUTH=true
AWS_REQUEST_CHECKSUM_CALCULATION=when_required
AWS_RESPONSE_CHECKSUM_VALIDATION=when_required

# Let's Encrypt (REQUIRED for bootstrap script)
LETSENCRYPT_EMAIL=devops@sansakorea.com
LETSENCRYPT_DOMAINS=sansakorea.com,www.sansakorea.com

# Optional tuning
SECURE_SSL_REDIRECT=true
AUTO_ADD_ALLOWED_HOSTS_TO_CSRF=true
SESSION_COOKIE_SAMESITE=None
CSRF_COOKIE_SAMESITE=None
REDIS_MAXMEMORY=256mb
REDIS_MAXMEMORY_POLICY=allkeys-lru
DOCKER_LOG_MAX_SIZE=10m
DOCKER_LOG_MAX_FILE=5
LOG_LEVEL=INFO

# Optional (only when backup script is used)
# BACKUP_S3_URI=s3://your-backup-bucket/sausalito/postgres

# Kakao login (REQUIRED if Kakao auth endpoint is enabled)
KAKAO_REST_API_KEY=replace-with-kakao-rest-api-key
KAKAO_CLIENT_SECRET=replace-with-kakao-client-secret
KAKAO_REDIRECT_URI=https://sausalito.co.kr/pages/kakao-callback.html
KAKAO_ALLOWED_REDIRECT_URIS=https://sausalito.co.kr/pages/kakao-callback.html,https://www.sausalito.co.kr/pages/kakao-callback.html,http://127.0.0.1:5173/pages/kakao-callback.html,http://localhost:5173/pages/kakao-callback.html,http://127.0.0.1:5174/pages/kakao-callback.html,http://localhost:5174/pages/kakao-callback.html
